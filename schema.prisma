// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                      String    @id @default(cuid())
  name                    String    @default("")
  firstName               String    @default("")
  isAdmin                 Boolean   @default(false)
  email                   String    @unique @default("")
  password                String?
  photo_filesize          Int?
  photo_extension         String?
  photo_width             Int?
  photo_height            Int?
  photo_id                String?
  lists                   List[]    @relation("List_user")
  gifts                   Gift[]    @relation("Gift_user")
  passwordResetToken      String?
  passwordResetIssuedAt   DateTime?
  passwordResetRedeemedAt DateTime?
}

model List {
  id          String        @id @default(cuid())
  name        String        @default("")
  category    ListCategory? @relation("List_category", fields: [categoryId], references: [id])
  categoryId  String?       @map("category")
  updated_at  DateTime?     @updatedAt
  date        DateTime?     @postgresql.Date
  description String        @default("")
  gifts       Gift[]        @relation("Gift_list")
  user        User?         @relation("List_user", fields: [userId], references: [id])
  userId      String?       @map("user")

  @@index([categoryId])
  @@index([userId])
}

model ListCategory {
  id    String @id @default(cuid())
  name  String @default("")
  lists List[] @relation("List_category")
}

model Gift {
  id              String    @id @default(cuid())
  name            String    @default("")
  link            String    @default("")
  price           Float
  description     String    @default("")
  quantity        Int
  degree          Int
  image_filesize  Int?
  image_extension String?
  image_width     Int?
  image_height    Int?
  image_id        String?
  color           String    @default("")
  size            String    @default("")
  reserved        Boolean   @default(false)
  updated_at      DateTime? @updatedAt
  date            DateTime? @postgresql.Date
  reservedBy      String    @default("")
  list            List?     @relation("Gift_list", fields: [listId], references: [id])
  listId          String?   @map("list")
  user            User?     @relation("Gift_user", fields: [userId], references: [id])
  userId          String?   @map("user")

  @@index([listId])
  @@index([userId])
}